{"remainingRequest":"/Users/benjasl/Desktop/gitHub/freshTracks/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/benjasl/Desktop/gitHub/freshTracks/src/components/Map.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/benjasl/Desktop/gitHub/freshTracks/src/components/Map.vue","mtime":1584450439172},{"path":"/Users/benjasl/Desktop/gitHub/freshTracks/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/benjasl/Desktop/gitHub/freshTracks/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/benjasl/Desktop/gitHub/freshTracks/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/benjasl/Desktop/gitHub/freshTracks/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { latLng } from \"leaflet\";\nimport 'leaflet-gpx';\nimport { LMap, LTileLayer, LMarker, LPopup, LTooltip } from \"vue2-leaflet\";\n\nexport default {\n  components: {\n    LMap,\n    LTileLayer,\n    LMarker,\n    LPopup,\n    LTooltip\n  },\n  data() {\n    return {\n      //initializeGPXData//\n      elevation: 0, \n      heartrate: 0,\n      temp: 0,\n      evevationGain:0,\n      elevationLoss:0,\n      averageSpeed:0,\n      totalTime:0,\n      startTime:0,\n      endTime:0,\n      distance:0,\n      name:\"\",\n\n      //buildMap//\n      center: latLng(47.491922127082944,-121.63982578553259),\n      url: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n      attribution:\n        '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors',\n      withPopup: latLng(47.491922127082944,-121.63982578553259),\n      withTooltip: latLng(47.491922127082944,-121.63982578553259),\n      currentZoom: 11.5,\n      currentCenter: latLng(47.491922127082944,-121.63982578553259),\n      showParagraph: false,\n      mapOptions: {\n        zoomSnap: 0.5\n      },\n      showMap: true\n    };\n  },\n  methods: {\n    zoomUpdate(zoom) {\n      this.currentZoom = zoom;\n    },\n    centerUpdate(center) {\n      this.currentCenter = center;\n    },\n    showLongText() {\n      this.showParagraph = !this.showParagraph;\n    },\n    innerClick() {\n      alert(\"Click!\");\n    }\n  },\n  mounted(){\n    let mapObject = this.$refs.myMap.mapObject\n    var self = this\n    const track = new L.GPX('activity-1.gpx', \n    { async: true,\n      gpx_options:{\n        parseElements: ['track', 'route', 'waypoint'],\n        joinTrackSegments: false,\n      },\n        polyline_options: {\n        opacity: 0.55,\n        weight: 4,\n        lineCap: 'round'\n      },\n      marker_options: {\n        wptIconUrls: {\n            '': 'icons/map/005-pin-1.png',\n            'Geocache Found': 'img/gpx/geocache.png',\n            'Park': 'img/gpx/tree.png'\n          },\n        startIconUrl: 'icons/map/005-pin-1.png',\n        endIconUrl: 'icons/map/024-flag.png',\n        shadowUrl: ''\n      }\n    },\n\n    ).on('loaded', function (e) {\n    var gpx = e.target;\n        mapObject.fitBounds(gpx.getBounds());\n        self.name= gpx.get_name()\n        self.elevation = gpx.get_elevation_max().toFixed(0)\n        self.heartrate= gpx.get_average_hr().toFixed(2)\n        self.temp= gpx.get_average_temp().toFixed(2)\n        self.elevationLoss= gpx.get_elevation_loss().toFixed(0)\n        self.averageSpeed= gpx.get_moving_speed().toFixed(2)\n        self.totalTime= gpx.get_duration_string_iso(gpx.get_total_time())\n        self.startTime= gpx.get_start_time();\n        self.endTime= gpx.get_end_time();\n        self.distance = gpx.get_distance().toFixed(2)\n  }).addTo(mapObject)\n    //mapObject.setView(L.latLng(48.8619760,-121.6539630),15)\n  }\n};\n",{"version":3,"sources":["Map.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Map.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<div class=\"container\">\n    <div class=\"row align-items-top\">\n \n        <div style=\"col-md-12 height:500px; min-width: 100%; \"  >\n          <h3>\n            {{name}}\n          </h3>\n          <l-map style=\"height:500px; \" ref=\"myMap\"\n            v-if=\"showMap\"\n            :zoom=\"15\"\n            :center=\"center\"\n            :options=\"mapOptions\"\n            @update:center=\"centerUpdate\"\n            @update:zoom=\"zoomUpdate\"\n          >\n            <l-tile-layer\n              :url=\"url\"\n              :attribution=\"attribution\"\n            />\n            <l-marker :lat-lng=\"withPopup\">\n              <l-popup>\n                <div @click=\"innerClick\">\n                  I am a popup\n                  <p v-show=\"showParagraph\">\n                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque\n                    sed pretium nisl, ut sagittis sapien. Sed vel sollicitudin nisi.\n                    Donec finibus semper metus id malesuada.\n                  </p>\n                </div>\n              </l-popup>\n            </l-marker>\n            <l-marker :lat-lng=\"withTooltip\">\n              <l-tooltip :options=\"{ permanent: true, interactive: true }\">\n                <div @click=\"innerClick\">\n                  I am a tooltip\n                  <p v-show=\"showParagraph\">\n                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque\n                    sed pretium nisl, ut sagittis sapien. Sed vel sollicitudin nisi.\n                    Donec finibus semper metus id malesuada.\n                  </p>\n                </div>\n              </l-tooltip>\n            </l-marker>\n          </l-map>\n        </div>\n      </div>\n        <div id=\"meta\">\n            <table style=\"width:100%; border:0px\">\n              <tr>\n                <td style=\"\">\n                  \n                      <h3 v-if=\"distance > 0\">Total Distance</h3>\n                      <p class=\"stat\">{{Math.round(distance/1000).toFixed(2)}} KM</p>\n\n                </td>\n                <td style=\"\">\n                      <h3 v-if=\"elevation > 0\">Total Elevation</h3>\n                      <p class=\"stat\">Elevation: {{elevation}} M</p>\n                </td>\n              </tr>\n              <tr>\n                <td style=\"\">\n                      <h3 v-if=\"elevationLoss > 0\">Verticle Skied</h3>\n                      <p class=\"stat\">{{elevationLoss}} M</p>\n                </td>\n                <td style=\"\">\n                      <h3 v-if=\"averageSpeed > 0\">Average Speed</h3>\n                      <p class=\"stat\">{{averageSpeed}} M</p>\n                </td>\n                <td style=\"\">\n                      <h3 >Moving Time</h3>\n                      <p class=\"stat\">{{totalTime}} M</p>\n                </td>\n              </tr>\n            </table>\n          \n            <p v-if=\"heartrate > 0\"> <img class=\"mb-1 icon xs\" src=\"/icons/map/030-route.png\" alt=\"Fresh tracks\"/>  Avg Heartrate: {{heartrate}}</p>\n            <hr v-if=\"heartrate > 0\" />\n            <p v-if=\"temp > 0\"> <img class=\"mb-1 icon xs\" src=\"/icons/map/030-route.png\" alt=\"Fresh tracks\"/>  Avg Temp: {{temp}} </p>\n            <hr v-if=\"temp > 0\" />\n          \n          </div>\n    </div>\n</template>\n\n<script>\nimport { latLng } from \"leaflet\";\nimport 'leaflet-gpx';\nimport { LMap, LTileLayer, LMarker, LPopup, LTooltip } from \"vue2-leaflet\";\n\nexport default {\n  components: {\n    LMap,\n    LTileLayer,\n    LMarker,\n    LPopup,\n    LTooltip\n  },\n  data() {\n    return {\n      //initializeGPXData//\n      elevation: 0, \n      heartrate: 0,\n      temp: 0,\n      evevationGain:0,\n      elevationLoss:0,\n      averageSpeed:0,\n      totalTime:0,\n      startTime:0,\n      endTime:0,\n      distance:0,\n      name:\"\",\n\n      //buildMap//\n      center: latLng(47.491922127082944,-121.63982578553259),\n      url: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n      attribution:\n        '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors',\n      withPopup: latLng(47.491922127082944,-121.63982578553259),\n      withTooltip: latLng(47.491922127082944,-121.63982578553259),\n      currentZoom: 11.5,\n      currentCenter: latLng(47.491922127082944,-121.63982578553259),\n      showParagraph: false,\n      mapOptions: {\n        zoomSnap: 0.5\n      },\n      showMap: true\n    };\n  },\n  methods: {\n    zoomUpdate(zoom) {\n      this.currentZoom = zoom;\n    },\n    centerUpdate(center) {\n      this.currentCenter = center;\n    },\n    showLongText() {\n      this.showParagraph = !this.showParagraph;\n    },\n    innerClick() {\n      alert(\"Click!\");\n    }\n  },\n  mounted(){\n    let mapObject = this.$refs.myMap.mapObject\n    var self = this\n    const track = new L.GPX('activity-1.gpx', \n    { async: true,\n      gpx_options:{\n        parseElements: ['track', 'route', 'waypoint'],\n        joinTrackSegments: false,\n      },\n        polyline_options: {\n        opacity: 0.55,\n        weight: 4,\n        lineCap: 'round'\n      },\n      marker_options: {\n        wptIconUrls: {\n            '': 'icons/map/005-pin-1.png',\n            'Geocache Found': 'img/gpx/geocache.png',\n            'Park': 'img/gpx/tree.png'\n          },\n        startIconUrl: 'icons/map/005-pin-1.png',\n        endIconUrl: 'icons/map/024-flag.png',\n        shadowUrl: ''\n      }\n    },\n\n    ).on('loaded', function (e) {\n    var gpx = e.target;\n        mapObject.fitBounds(gpx.getBounds());\n        self.name= gpx.get_name()\n        self.elevation = gpx.get_elevation_max().toFixed(0)\n        self.heartrate= gpx.get_average_hr().toFixed(2)\n        self.temp= gpx.get_average_temp().toFixed(2)\n        self.elevationLoss= gpx.get_elevation_loss().toFixed(0)\n        self.averageSpeed= gpx.get_moving_speed().toFixed(2)\n        self.totalTime= gpx.get_duration_string_iso(gpx.get_total_time())\n        self.startTime= gpx.get_start_time();\n        self.endTime= gpx.get_end_time();\n        self.distance = gpx.get_distance().toFixed(2)\n  }).addTo(mapObject)\n    //mapObject.setView(L.latLng(48.8619760,-121.6539630),15)\n  }\n};\n</script>\n\n\n<style scoped>\n#meta{padding:10px; background: #fff;}\n.icon.xs{max-width: 40px; display: inline;}\n.icon.sm{max-width: 80px; display: inline;}\nh3{font-style: italic; font-weight: 100;;}\n.stat{font-weight: 900;}\n</style>"]}]}