{"remainingRequest":"/Users/benjasl/Desktop/gitHub/freshTracks/node_modules/babel-loader/lib/index.js!/Users/benjasl/Desktop/gitHub/freshTracks/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/benjasl/Desktop/gitHub/freshTracks/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/benjasl/Desktop/gitHub/freshTracks/src/components/Upload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/benjasl/Desktop/gitHub/freshTracks/src/components/Upload.vue","mtime":1585056220833},{"path":"/Users/benjasl/Desktop/gitHub/freshTracks/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/benjasl/Desktop/gitHub/freshTracks/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/benjasl/Desktop/gitHub/freshTracks/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/benjasl/Desktop/gitHub/freshTracks/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.string.sub\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  name: 'Upload',\n  props: {\n    msg: String\n  },\n  data: function data() {\n    console.log(process.env.VUE_APP_POST_URL);\n    return {\n      userID: 1,\n      name: '',\n      email: '',\n      message: '',\n      response: '',\n      success: '',\n      GPXData: '',\n      activeClass: 'active'\n    };\n  },\n  methods: {\n    submitForm: function submitForm() {\n      var _this = this;\n\n      var formData = new FormData();\n      formData.append(\"email\", this.email);\n      formData.append(\"ADDRESS\", \"BEN\"); //console.log(this.GPXData)\n\n      axios({\n        method: \"POST\",\n        url: process.env.VUE_APP_APIGW_URL,\n        data: {\n          \"email\": this.$auth.user.sub,\n          \"xmlData\": this.GPXData\n        }\n      }).then(function (response) {\n        console.log(response); // this.response = response.data\n\n        _this.success = 'Data saved successfully';\n        _this.response = JSON.stringify(response, null, 2);\n      }).catch(function (error) {\n        console.log(error);\n        _this.response = 'Error: ' + error.response.status;\n      });\n      this.name = '';\n      this.email = '';\n      this.message = '';\n    },\n    selectedFile: function selectedFile() {\n      var _this2 = this;\n\n      var file = this.$refs.file.files[0]; // if(!file || file.type !== 'text/plain') return;\n\n      var reader = new FileReader();\n      reader.readAsText(file, \"UTF-8\");\n\n      reader.onload = function (evt) {\n        _this2.GPXData = evt.target.result;\n      };\n\n      reader.onerror = function (evt) {\n        console.error(evt);\n      };\n    }\n  }\n};",{"version":3,"sources":["Upload.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,GAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,OAAA,CAAA,GAAA,CAAA,gBAAA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,CADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA,EAHA;AAIA,MAAA,OAAA,EAAA,EAJA;AAKA,MAAA,QAAA,EAAA,EALA;AAMA,MAAA,OAAA,EAAA,EANA;AAOA,MAAA,OAAA,EAAA,EAPA;AAQA,MAAA,WAAA,EAAA;AARA,KAAA;AAUA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AAEA,UAAA,QAAA,GAAA,IAAA,QAAA,EAAA;AAEA,MAAA,QAAA,CAAA,MAAA,CAAA,OAAA,EAAA,KAAA,KAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,SAAA,EAAA,KAAA,EALA,CAQA;;AACA,MAAA,KAAA,CAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,GAAA,EAAA,OAAA,CAAA,GAAA,CAAA,iBAFA;AAGA,QAAA,IAAA,EAAA;AAAA,mBAAA,KAAA,KAAA,CAAA,IAAA,CAAA,GAAA;AAAA,qBAAA,KAAA;AAAA;AAHA,OAAA,CAAA,CAIA,IAJA,CAIA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA,EADA,CAEA;;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,yBAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,IAAA,CAAA,SAAA,CAAA,QAAA,EAAA,IAAA,EAAA,CAAA,CAAA;AACA,OATA,EASA,KATA,CASA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,YAAA,KAAA,CAAA,QAAA,CAAA,MAAA;AACA,OAZA;AAaA,WAAA,IAAA,GAAA,EAAA;AACA,WAAA,KAAA,GAAA,EAAA;AACA,WAAA,OAAA,GAAA,EAAA;AACA,KA1BA;AA2BA,IAAA,YA3BA,0BA2BA;AAAA;;AAEA,UAAA,IAAA,GAAA,KAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,CAAA,CAAA,CAFA,CAGA;;AACA,UAAA,MAAA,GAAA,IAAA,UAAA,EAAA;AACA,MAAA,MAAA,CAAA,UAAA,CAAA,IAAA,EAAA,OAAA;;AAEA,MAAA,MAAA,CAAA,MAAA,GAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,OAAA,GAAA,GAAA,CAAA,MAAA,CAAA,MAAA;AACA,OAFA;;AAGA,MAAA,MAAA,CAAA,OAAA,GAAA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,KAAA,CAAA,GAAA;AACA,OAFA;AAGA;AAxCA;AAlBA,CAAA","sourcesContent":["<template>\n  <div id=\"contact\" class=\"hello\">\n      <h1>{{ msg }}</h1>\n            <label>File\n              <input type=\"file\" id=\"file\" ref=\"file\" v-on:change=\"selectedFile()\"/>\n            </label>\n      <div v-if=\"response\" id=\"response\">\n        <h2>Thank you, here's the response</h2>\n        <pre >{{ response }}</pre>\n      </div>\n      <div v-else>\n        <form @submit.prevent=\"submitForm\">\n          <div class=\"large-12 medium-12 small-12 cell\">\n          </div>\n          <button :class=\"[name ? activeClass : '']\" type=\"submit\">Submit</button>\n        </form>\n      </div>\n\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nexport default {\n  name: 'Upload',\n  props: {\n    msg: String\n  },\n  data() {\n    console.log(process.env.VUE_APP_POST_URL)\n    return {\n      userID: 1,\n      name: '',\n      email: '',\n      message: '',\n      response: '',\n      success: '',\n      GPXData:'',\n      activeClass: 'active'\n    }\n  },\n  methods: {\n    submitForm() {\n\n      const formData = new FormData();\n      \n      formData.append(\"email\", this.email);\n      formData.append(\"ADDRESS\",\"BEN\");\n      \n    \n      //console.log(this.GPXData)\n      axios({\n        method: \"POST\",\n        url: process.env.VUE_APP_APIGW_URL,\n        data: {\"email\": this.$auth.user.sub,\"xmlData\":this.GPXData},\n      }).then(response => {\n        console.log(response);\n        // this.response = response.data\n        this.success = 'Data saved successfully';\n        this.response = JSON.stringify(response, null, 2)\n      }).catch(error => {\n        console.log(error)\n        this.response = 'Error: ' + error.response.status\n      })\n      this.name = '';\n      this.email = '';\n      this.message = '';\n    },\n    selectedFile() {\n\n      let file = this.$refs.file.files[0];\n     // if(!file || file.type !== 'text/plain') return;\n      let reader = new FileReader();\n      reader.readAsText(file, \"UTF-8\");\n\n      reader.onload =  evt => {\n       this.GPXData=evt.target.result\n      }\n      reader.onerror = evt => {\n        console.error(evt);\n      }\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n#app {\n  display: flex;\n  justify-content: center;\n  font-family: 'Work Sans', sans-serif;\n}\nform {\n  width: 500px;\n  padding: 10px 40px;\n  margin: 0 auto;\n  text-align: left;\n}\n  label {\n    text-transform: uppercase;\n    font-size: 20px;\n    letter-spacing: 0.03em;\n    font-weight: bold;\n    margin-top:10px;\n    margin-bottom:10px;\n    \n  }\n  input, textarea {\n    border: 1px solid #ccc;\n    color: #333;\n    width: calc(100% - 30px);\n    font-size:20px;\n    padding:10px;\n    margin-bottom:20px;\n  }\n  input, textarea, button {\n    border-radius: 4px;\n    padding: 8px 15px;\n    font-family: 'Work Sans', sans-serif;\n    font-weight: 300;\n  }\nbutton {\n  color:#000;\n  border: none;\n  width: calc(100% - 30px);\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.08em;\n  background: #eee;\n  cursor: pointer;\n  font-size:20px;\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.3);\n  transition: 0.25s all ease;\n  margin-top:20px;\n  width: 100%;\n  padding:10px;\n}\n#response{\n   margin: 0 auto;\nfont-size: 14px;\ntext-align: left;\nbackground: #eee;\npadding: 20px;\nwidth: auto;\noverflow: scroll;\nmax-width: 400px;\nborder:solid;\n  }"],"sourceRoot":"src/components"}]}