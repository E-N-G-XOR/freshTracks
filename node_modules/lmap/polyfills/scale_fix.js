"use strict";var t=require("leaflet");t.Map=t.Map.extend({options:{scaleX:1,scaleY:1},initialize:function(i,e){e=t.setOptions(this,e),this._initContainer(i),this._initLayout(),this._onResize=t.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.center&&void 0!==e.zoom&&this.setView(t.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(e.layers),this._setScale(this.options.scaleX,this.options.scaleY)},_setScale:function(i,e){t.DomEvent.getMousePosition=function(s,n){if(!n)return new t.Point(s.clientX,s.clientY);var o=n.getBoundingClientRect();return new t.Point((s.clientX-o.left-n.clientLeft)/i,(s.clientY-o.top-n.clientTop)/e)}}});