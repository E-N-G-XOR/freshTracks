"use strict";function t(t){if(t.fromLat&&t.fromLng)return{lat:t.fromLat,lng:t.fromLng};if(t.from){var n=t.from;return"string"==typeof n&&-1!==n.indexOf(",")?(n=n.split(",")[1],{lat:n[1],lng:n[0]}):n}}function n(t){if(t.toLat&&t.toLng)return{lat:t.toLat,lng:t.toLng};if(t.to){var n=t.to;return"string"==typeof n&&-1!==n.indexOf(",")?(n=n.split(",")[1],{lat:n[1],lng:n[0]}):n}}function o(t){var n=Utils.getLat(t),o=Utils.getLng(t);if(n&&o){var r=projection.BD092GCJ(n,o).lat;return r}}function r(t){var n=Utils.getLat(t),o=Utils.getLng(t);return n&&o?projection.BD092GCJ(n,o).lng:void 0}function e(t){var n=Utils.getLat(t),o=Utils.getLng(t);return n&&o?projection.WGS2GCJ(n,o).lat:void 0}function i(t){var n=Utils.getLat(t),o=Utils.getLng(t);return n&&o?projection.WGS2GCJ(n,o).lng:void 0}function a(t){var n=Utils.getLat(t),o=Utils.getLng(t);return n&&o?projection.GCJ2BD09(n,o).lat:void 0}function f(t){var n=Utils.getLat(t),o=Utils.getLng(t);return n&&o?projection.GCJ2BD09(n,o).lng:void 0}function u(t,n,o,r,e){r=r||0,e=null===e||void 0===e?1:e;var i=o-n||.001,a=(Math.max(n,Math.min(o,t))-n)/i;return r+a*(e-r)}function l(t){return null===t||void 0===t||isNaN(t)?!1:"number"==typeof+t}function g(t,n){var o,r=n(t[0]),e=r,i="undefined"==typeof n?"undefined":s(n);return"function"===i?t.forEach(function(t,i){o=n(t,i),l(o)&&(r=Math.min(o,r),e=Math.max(o,e))}):"string"===i&&t.forEach(function(t){o=t[n],l(o)&&(r=Math.min(o,r),e=Math.max(o,e))}),{min:r,max:e}}function c(t){return"number"==typeof t?null===t||void 0===t||isNaN(t):!1}function m(t,n,o){if(!t||!t.length)return{};o=o||.05;var r="function"==typeof n?n:function(t){return t[n]};t=L.filter(t,function(t){return!c(r(t))}),t=L.sortBy(t,function(t){return parseFloat(r(t),10)});var e=Math.floor(o*t.length),i=Math.floor((1-o)*t.length),a=r(t[e]),f=r(t[i]);return{min:Math.min(a,f),max:Math.max(a,f)}}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L=require("lodash");module.exports={getFrom:t,getTo:n,getLngBA:r,getLatBA:o,getLngAB:f,getLatAB:a,getLngWA:i,getLatWA:e,getRangePercentTile:m,getRange:g,map:u};