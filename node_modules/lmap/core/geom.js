"use strict";function t(t,r){return t&&r?[t[0]-r[0],t[1]-r[1]]:void 0}function r(t,r){return t&&r?[t[0]+r[0],t[1]+r[1]]:void 0}function n(t,r){return t?[t[0]*r,t[1]*r]:void 0}function e(t,r){var n,e;for(var a in t){n=t[a];var o=n.length;if(!(2>o)){for(var i,f,s=[],v=0;o>v;v++)e=n[v],ptNext=n[v+1],ptPrev=n[v-1],i=u(ptPrev,e,ptNext,r),i[0]&&i[1]||(i=f||i),s.push(i),f=i;for(var v=o-1;v>=0;v--)e=n[v],i=s[v],e[0]+=i[0]||0,e[1]+=i[1]||0}}}function a(t){if(!t)return[0,0];var r=t[0],n=t[1],e=Math.sqrt(r*r+n*n);return[r/e,n/e]}function u(e,u,o,i){var v,c;if(v=t(o,u),c=t(u,e),!v||!c)return f(a(v||c),i);v=a(v),v=s(v),c=a(c),c=s(c);var h=r(v,c);return h=a(h),n(h,i)}function o(t){for(var r=[],n=t.length-1;n>=0;n--)r.push(t[n]);return r}function i(t,r){if(!r)return t;var n=t[0],e=t[t.length-1],a=Math.abs(n[0]-r[0])+Math.abs(n[1]-r[1]),u=Math.abs(e[0]-r[0])+Math.abs(e[1]-r[1]);return a>u?o(t):t}function f(t,r){return[t[1]*r,-t[0]*r]}function s(t){return[t[1],-t[0]]}function v(t){return JSON.parse(JSON.stringify(t))}function c(t,r){t=v(t);var n=t.features,a=[];for(var u in n)a.push(n[u].geometry.coordinates);return e(a,r),t}function h(t){var r,n,e=t.length,a=0,u=L.LatLng.DEG_TO_RAD;if(e>2){for(var o=0;e>o;o++)r=t[o],n=t[(o+1)%e],a+=(n.lng-r.lng)*u*(2+Math.sin(r.lat*u)+Math.sin(n.lat*u));a=6378137*a*6378137/2}return Math.abs(a)}function g(t){for(var r=0,n=t.length,e=0;n>e;e++){var a=(e+1)%n;r+=t[e].distanceTo(t[a])}return r}module.exports={getOffsetDashedFeatures:e,getLengthPolyline:g,getOffsetGeojson:c,geodesicArea:h};