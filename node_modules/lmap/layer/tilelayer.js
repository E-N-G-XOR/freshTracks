"use strict";function t(t,e,i){var n=a.deepMerge(t.options,i),o=t.variants,r=void 0;if(!o)return n;if(e&&2===e.length){var l=e[1];return r=o[l],n[l]=r.value,n}if(n.variant&&o){var u=n.variant;if(r=o[u],!r)return n;n.variant="string"==typeof r?r:r.value,r.options&&(n=a.deepMerge(n,r.options))}return n}function e(t){var i=t.attribution;return i?-1===i.indexOf("{attribution.")?t:(t.attribution=i.replace(/\{attribution.(\w*)\}/,function(t,i){return e(r[i].options)}),t):t}function i(t){return void 0===t||null===t}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=require("./../leaflet"),r=require("./tilelayer_data");delete r.__filename;var a=require("./../core/utils"),l=a.switchValue,u=o.Browser,s=o.DomUtil,f=o.Util,p=o.Bounds,d=o.Point,y={pane:"tilePane",tileSize:256,bounds:null,subdomains:"abc",zoomOffset:0},c=o.TileLayer.extend({initialize:function(t,e){var i=a.deepMerge(y,e),e=f.setOptions(this,i);this.update(t,e,!0)},update:function(i,a,l){if(a=void 0,"object"===("undefined"==typeof i?"undefined":n(i))&&(a=i,i=a.url),-1===i.indexOf("{")&&(this.tileName=i),this.tData=r,"string"!=typeof i)return console.log("输入必须为字符形式");if(-1!==i.indexOf("{")){if(o.TileLayer.prototype.initialize.call(this,i,a),l)return;return o.TileLayer.prototype.setUrl.call(this,i,a)}var u=i.split("."),s=u[0],f=r[s]||r.GeoQBlue,p=this.options.isCache?null:"ldmap="+Math.floor(1e7*Math.random()),d=f.url;if(d&&"string"==typeof d&&p){var y=-1===d.indexOf("?")?"?":"&";d+=y+p}a=t(f,u,a),a=e(a),o.TileLayer.prototype.initialize.call(this,d),l||(this.setUrl(d,a),this.redraw())},updateOptions:function(){},help:function(){console.log("L.dmap.tileLayer(name, options)\n---name可以是:\n\n\n");for(var t in r){var e=r[t].options,i=e.name;console.log(t+" | "+i)}},getTileUrl:function(t){var e=t.x,n=t.y,r=t.z;if(!(i(t.x)||i(t.y)||i(t.z)))return"function"==typeof this._url?this._url(e,n,r):o.Util.template(this._url,o.extend({s:this._getSubdomain(t),z:t.z,x:t.x,y:t.y},this.options))},setVariables:function(){}});c.options={isCache:!1,pane:"tilePane",tileSize:256,bounds:null,subdomains:"abc",zoomOffset:0};var m=o.dmap=o.dmap||{};m.TileLayer=c,m.tileLayer=function(t,e){return new m.TileLayer(t,e)},module.exports=c;