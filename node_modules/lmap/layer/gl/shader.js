"use strict";function t(t,i){var r,h;this.gl=t,h=i.vertex,r=i.fragment,this.program=this.gl.createProgram(),this.vs=this.gl.createShader(this.gl.VERTEX_SHADER),this.fs=this.gl.createShader(this.gl.FRAGMENT_SHADER),this.gl.attachShader(this.program,this.vs),this.gl.attachShader(this.program,this.fs),this.compileShader(this.vs,h),this.compileShader(this.fs,r),this.link(),this.value_cache={},this.uniform_cache={},this.attribCache={}}t.prototype.attribLocation=function(t){var i;return i=this.attribCache[t],void 0===i&&(i=this.attribCache[t]=this.gl.getAttribLocation(this.program,t)),i},t.prototype.compileShader=function(t,i){if(this.gl.shaderSource(t,i),this.gl.compileShader(t),!this.gl.getShaderParameter(t,this.gl.COMPILE_STATUS))throw"Shader Compile Error: "+this.gl.getShaderInfoLog(t)},t.prototype.link=function(){if(this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))throw"Shader Link Error: "+this.gl.getProgramInfoLog(this.program)},t.prototype.use=function(){return this.gl.useProgram(this.program),this},t.prototype.uniformLoc=function(t){var i;return i=this.uniform_cache[t],void 0===i&&(i=this.uniform_cache[t]=this.gl.getUniformLocation(this.program,t)),i},t.prototype["int"]=function(t,i){var r,h;return r=this.value_cache[t],r!==i&&(this.value_cache[t]=i,h=this.uniformLoc(t),h&&this.gl.uniform1i(h,i)),this},t.prototype.vec2=function(t,i,r){var h;return h=this.uniformLoc(t),h&&this.gl.uniform2f(h,i,r),this},t.prototype["float"]=function(t,i){var r,h;return r=this.value_cache[t],r!==i&&(this.value_cache[t]=i,h=this.uniformLoc(t),h&&this.gl.uniform1f(h,i)),this},module.exports=t;