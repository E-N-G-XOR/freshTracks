"use strict";function t(o){o=this.options=e.deepMerge(t.options,o),o.interactiveLine.kHeight=o.kHeight,o.displayLine.kHeight=o.kHeight,this.initialize(o)}var o=require("./../leaflet"),e=require("./../core/utils"),i=require("./flyingLine"),s=require("./flyingLinePath");t.options={opacity:1,displayLine:{colorTo:"rgba(250,150,50,1)",colorFrom:"rgba(255,0,0,0)",colorNormal:"rgba(250,250,250,0.2)"}},t.options=e.deepMerge(i.options,t.options),t=i.extend(t,{initDisplayLine:function(){var t=this._map,o=(this._data,this.displayPath=new s(this.options.displayLine));o.addTo(t);var e=(o.id,o._path),i=this.options,r=o.linearGradientId;this.linearGradient=o.linearGradient;var p=i.displayLine;this.createStop("a",{offset:"0%","stop-color":p.colorNormal}).createStop("b",{offset:"0%","stop-color":p.colorNormal}).createStop("c",{offset:"0%","stop-color":p.colorFrom}).createStop("d",{offset:"0%","stop-color":p.colorTo}).createStop("e",{offset:"0%","stop-color":p.colorNormal}).createStop("f",{offset:"100%","stop-color":p.colorNormal}),e.setAttribute("pointer-events","none"),e.setAttribute("fill","none"),e.setAttribute("stroke","url(#"+r+")"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-linejoin","round")},updateOptionsDisplayLine:function(){var t=this.options.displayLine;this.stop1a&&this.stop1a.setAttribute("stop-color",t.colorNormal),this.stop1b&&this.stop1b.setAttribute("stop-color",t.colorNormal),this.stop1c&&this.stop1c.setAttribute("stop-color",t.colorFrom),this.stop1d&&this.stop1d.setAttribute("stop-color",t.colorTo),this.stop1e&&this.stop1e.setAttribute("stop-color",t.colorNormal),this.stop1f&&this.stop1f.setAttribute("stop-color",t.colorNormal)},createStop:function(t,o){var e=this.id+"stop1",i=this["stop1"+t+"ID"]=e+t,s="stop1"+t,r=this.linearGradient,p=this[s]=document.createElementNS("http://www.w3.org/2000/svg","stop");p.setAttribute("id",i);for(var n in o)p.setAttribute(n,o[n]);return r.appendChild(p),this},updateDisplayLine:function(t){if(t){var o,e,i=this.options,s=i.range;s>t?(o=0,e=t):1>t?(o=t-s,e=t):t>1&&1+s>t&&(o=t-s,e=1),e&&(o=Math.floor(100*o)+"%",e=Math.floor(100*e)+"%",this.stop1b&&this.stop1b.setAttribute("offset",o),this.stop1c&&this.stop1c.setAttribute("offset",o),this.stop1d&&this.stop1d.setAttribute("offset",e),this.stop1e&&this.stop1e.setAttribute("offset",e))}},genOptions:function(){return t.prototype.options=e.deepMerge(i.prototype.genOptions(),t.prototype.options)}},i),t.prototype.genOptions();var r=o.dmap=o.dmap||{};r.FlyingLineGradient=t,r.flyingLineGradient=function(o){return new t(o)},module.exports=t;